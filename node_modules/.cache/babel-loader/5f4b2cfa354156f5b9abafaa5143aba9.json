{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\\\uBB38\\uC11C\\\\GitHub\\\\ColorChip\\\\src\\\\contents\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport * as S from '../styled/App';\nimport { useHistory } from \"react-router\";\nimport axios from \"axios\";\nimport { useCookies } from 'react-cookie';\nimport logo from '../images/color.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  let history = useHistory();\n  const [user, setUser] = useState();\n  const [onlogin, setOnlogin] = useState(false);\n  const [input, setInput] = useState({\n    name: \"\",\n    password: \"\"\n  });\n  const [cookies, setCookie, removeCookie] = useCookies(['c-token']);\n  const name = useRef();\n  const password = useRef();\n\n  function getCookie(cName) {\n    cName = cName + '=';\n    var cookieData = document.cookie;\n    var start = cookieData.indexOf(cName);\n    var cValue = '';\n\n    if (start !== -1) {\n      start += cName.length;\n      var end = cookieData.indexOf(';', start);\n      if (end === -1) end = cookieData.length;\n      cValue = cookieData.substring(start, end);\n    }\n\n    return unescape(cValue);\n  }\n\n  useEffect(() => {\n    console.log(cookies);\n\n    if (getCookie('c-token')) {\n      axios.get('http://color-chip.herokuapp.com/user').then(res => setUser(res.data));\n    }\n  }, [cookies]);\n\n  const login = () => {\n    axios.post('http://color-chip.herokuapp.com/login', input).then(res => {\n      setOnlogin(false);\n      setCookie('c-token', res.data);\n    });\n    window.location.reload();\n  };\n\n  const signup = () => {\n    axios.post('http://color-chip.herokuapp.com/signup', input).then(res => setOnlogin(false));\n  };\n\n  const logout = () => {\n    removeCookie('c-token');\n    window.location.reload();\n  };\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInput({ ...input,\n      [name]: value\n    });\n  };\n\n  const LoginBorder = () => {\n    return /*#__PURE__*/_jsxDEV(S.Background, {\n      children: /*#__PURE__*/_jsxDEV(S.LoginBorder, {\n        className: \"border\",\n        children: [/*#__PURE__*/_jsxDEV(S.LoginHeader, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uB85C\\uADF8\\uC778/\\uD68C\\uC6D0\\uAC00\\uC785\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setOnlogin(false),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(S.LDiv, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: name,\n            placeholder: \"\\uC774\\uB984\",\n            name: \"name\",\n            onChange: e => onChange(e),\n            value: input.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: password,\n            type: \"password\",\n            placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n            name: \"password\",\n            onChange: e => onChange(e),\n            value: input.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => login(),\n              children: \"\\uB85C\\uADF8\\uC778\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => signup(),\n              children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(S.Header, {\n      children: /*#__PURE__*/_jsxDEV(S.Head, {\n        onClick: () => history.push('/'),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uCEEC\\uB7EC \\uCE69\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"name\",\n            children: [user, \" \\uB2D8\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => logout(),\n            children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setOnlogin(true),\n          children: \"\\uB85C\\uADF8\\uC778/\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), onlogin ? /*#__PURE__*/_jsxDEV(LoginBorder, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true);\n};\n\n_s(Header, \"VUUjcZkbp2KVpG2z4oc/Koas9yg=\", false, function () {\n  return [useHistory, useCookies];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/user/OneDrive/문서/GitHub/ColorChip/src/contents/Header.js"],"names":["React","useEffect","useState","useRef","S","useHistory","axios","useCookies","logo","Header","history","user","setUser","onlogin","setOnlogin","input","setInput","name","password","cookies","setCookie","removeCookie","getCookie","cName","cookieData","document","cookie","start","indexOf","cValue","length","end","substring","unescape","console","log","get","then","res","data","login","post","window","location","reload","signup","logout","onChange","e","value","target","LoginBorder","push"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAyBC,QAAzB,EAAmCC,MAAnC,QAAgD,OAAhD;AACA,OAAO,KAAKC,CAAZ,MAAmB,eAAnB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,IAAP,MAAiB,qBAAjB;;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEjB,MAAIC,OAAO,GAAGL,UAAU,EAAxB;AAEA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,EAAhC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC;AAACe,IAAAA,IAAI,EAAE,EAAP;AAAWC,IAAAA,QAAQ,EAAE;AAArB,GAAD,CAAlC;AACA,QAAM,CAACC,OAAD,EAAUC,SAAV,EAAqBC,YAArB,IAAqCd,UAAU,CAAC,CAAC,SAAD,CAAD,CAArD;AACA,QAAMU,IAAI,GAAGd,MAAM,EAAnB;AACA,QAAMe,QAAQ,GAAGf,MAAM,EAAvB;;AAEA,WAASmB,SAAT,CAAmBC,KAAnB,EAA0B;AACtBA,IAAAA,KAAK,GAAGA,KAAK,GAAG,GAAhB;AACA,QAAIC,UAAU,GAAGC,QAAQ,CAACC,MAA1B;AACA,QAAIC,KAAK,GAAGH,UAAU,CAACI,OAAX,CAAmBL,KAAnB,CAAZ;AACA,QAAIM,MAAM,GAAG,EAAb;;AACA,QAAGF,KAAK,KAAK,CAAC,CAAd,EAAgB;AAChBA,MAAAA,KAAK,IAAIJ,KAAK,CAACO,MAAf;AACA,UAAIC,GAAG,GAAGP,UAAU,CAACI,OAAX,CAAmB,GAAnB,EAAwBD,KAAxB,CAAV;AACA,UAAGI,GAAG,KAAK,CAAC,CAAZ,EAAcA,GAAG,GAAGP,UAAU,CAACM,MAAjB;AACdD,MAAAA,MAAM,GAAGL,UAAU,CAACQ,SAAX,CAAqBL,KAArB,EAA4BI,GAA5B,CAAT;AACC;;AACD,WAAOE,QAAQ,CAACJ,MAAD,CAAf;AACH;;AAED5B,EAAAA,SAAS,CAAC,MAAI;AACViC,IAAAA,OAAO,CAACC,GAAR,CAAYhB,OAAZ;;AACA,QAAGG,SAAS,CAAC,SAAD,CAAZ,EAAwB;AACpBhB,MAAAA,KAAK,CAAC8B,GAAN,CAAU,sCAAV,EACKC,IADL,CACUC,GAAG,IAAI1B,OAAO,CAAC0B,GAAG,CAACC,IAAL,CADxB;AAEH;AACJ,GANQ,EAMP,CAACpB,OAAD,CANO,CAAT;;AAQA,QAAMqB,KAAK,GAAG,MAAM;AAChBlC,IAAAA,KAAK,CAACmC,IAAN,CAAW,uCAAX,EAAoD1B,KAApD,EACKsB,IADL,CACUC,GAAG,IAAI;AACTxB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAM,MAAAA,SAAS,CAAC,SAAD,EAAYkB,GAAG,CAACC,IAAhB,CAAT;AACH,KAJL;AAKAG,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAPD;;AASA,QAAMC,MAAM,GAAG,MAAM;AACjBvC,IAAAA,KAAK,CAACmC,IAAN,CAAW,wCAAX,EAAqD1B,KAArD,EACKsB,IADL,CACUC,GAAG,IAAIxB,UAAU,CAAC,KAAD,CAD3B;AAEH,GAHD;;AAKA,QAAMgC,MAAM,GAAG,MAAM;AACjBzB,IAAAA,YAAY,CAAC,SAAD,CAAZ;AACAqB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAHD;;AAKA,QAAMG,QAAQ,GAAIC,CAAD,IAAO;AACpB,UAAM;AAAC/B,MAAAA,IAAD;AAAOgC,MAAAA;AAAP,QAAgBD,CAAC,CAACE,MAAxB;AACAlC,IAAAA,QAAQ,CAAC,EACL,GAAGD,KADE;AAEL,OAACE,IAAD,GAAQgC;AAFH,KAAD,CAAR;AAIH,GAND;;AAQA,QAAME,WAAW,GAAG,MAAM;AACtB,wBACE,QAAC,CAAD,CAAG,UAAH;AAAA,6BACE,QAAC,CAAD,CAAG,WAAH;AAAe,QAAA,SAAS,EAAC,QAAzB;AAAA,gCACI,QAAC,CAAD,CAAG,WAAH;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAM,YAAA,OAAO,EAAE,MAAIrC,UAAU,CAAC,KAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI,QAAC,CAAD,CAAG,IAAH;AAAA,kCACI;AAAO,YAAA,GAAG,EAAEG,IAAZ;AAAkB,YAAA,WAAW,EAAC,cAA9B;AAAmC,YAAA,IAAI,EAAC,MAAxC;AAA+C,YAAA,QAAQ,EAAG+B,CAAD,IAAKD,QAAQ,CAACC,CAAD,CAAtE;AAA2E,YAAA,KAAK,EAAEjC,KAAK,CAACE;AAAxF;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,GAAG,EAAEC,QAAZ;AAAsB,YAAA,IAAI,EAAC,UAA3B;AAAsC,YAAA,WAAW,EAAC,0BAAlD;AAAyD,YAAA,IAAI,EAAC,UAA9D;AAAyE,YAAA,QAAQ,EAAG8B,CAAD,IAAKD,QAAQ,CAACC,CAAD,CAAhG;AAAqG,YAAA,KAAK,EAAEjC,KAAK,CAACG;AAAlH;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA,oCACI;AAAQ,cAAA,OAAO,EAAE,MAAIsB,KAAK,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,OAAO,EAAE,MAAIK,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAkBD,GAnBH;;AAqBA,sBACI;AAAA,4BACA,QAAC,CAAD,CAAG,MAAH;AAAA,6BACI,QAAC,CAAD,CAAG,IAAH;AAAQ,QAAA,OAAO,EAAE,MAAInC,OAAO,CAAC0C,IAAR,CAAa,GAAb,CAArB;AAAA,gCACI;AAAA,kCACI;AAAK,YAAA,GAAG,EAAE5C,IAAV;AAAgB,YAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAKKG,IAAI,gBACD;AAAA,kCACI;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA,uBAAwBA,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAM,YAAA,OAAO,EAAE,MAAImC,MAAM,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,gBAMD;AAAM,UAAA,OAAO,EAAE,MAAIhC,UAAU,CAAC,IAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADA,EAiBCD,OAAO,gBACJ,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADI,gBAGJ,qCApBJ;AAAA,kBADJ;AAyBH,CA1GD;;GAAMJ,M;UAEYJ,U,EAK6BE,U;;;KAPzCE,M;AA4GN,eAAeA,MAAf","sourcesContent":["import React,{useEffect, useState, useRef} from \"react\";\r\nimport * as S from '../styled/App'\r\nimport { useHistory } from \"react-router\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from 'react-cookie';\r\nimport logo from '../images/color.png'\r\n\r\nconst Header = () => {\r\n\r\n    let history = useHistory();\r\n\r\n    const [user, setUser] = useState();\r\n    const [onlogin, setOnlogin] = useState(false);\r\n    const [input, setInput] = useState({name: \"\", password: \"\"})\r\n    const [cookies, setCookie, removeCookie] = useCookies(['c-token']);\r\n    const name = useRef();\r\n    const password = useRef();\r\n\r\n    function getCookie(cName) {\r\n        cName = cName + '=';\r\n        var cookieData = document.cookie;\r\n        var start = cookieData.indexOf(cName);\r\n        var cValue = '';\r\n        if(start !== -1){\r\n        start += cName.length;\r\n        var end = cookieData.indexOf(';', start);\r\n        if(end === -1)end = cookieData.length;\r\n        cValue = cookieData.substring(start, end);\r\n        }\r\n        return unescape(cValue);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(cookies);\r\n        if(getCookie('c-token')){\r\n            axios.get('http://color-chip.herokuapp.com/user')\r\n                .then(res => setUser(res.data))\r\n        }\r\n    },[cookies, ])\r\n\r\n    const login = () => {\r\n        axios.post('http://color-chip.herokuapp.com/login', input)\r\n            .then(res => {\r\n                setOnlogin(false)\r\n                setCookie('c-token', res.data)\r\n            })\r\n        window.location.reload();\r\n    }\r\n\r\n    const signup = () => {\r\n        axios.post('http://color-chip.herokuapp.com/signup', input)\r\n            .then(res => setOnlogin(false))\r\n    }\r\n\r\n    const logout = () => {\r\n        removeCookie('c-token')\r\n        window.location.reload();\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        const {name, value} = e.target;\r\n        setInput({\r\n            ...input,\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    const LoginBorder = () => {\r\n        return(\r\n          <S.Background>\r\n            <S.LoginBorder className=\"border\">\r\n                <S.LoginHeader>\r\n                    <h3>로그인/회원가입</h3>\r\n                    <span onClick={()=>setOnlogin(false)}>x</span>\r\n                </S.LoginHeader>\r\n                <S.LDiv>\r\n                    <input ref={name} placeholder=\"이름\" name=\"name\" onChange={(e)=>onChange(e)} value={input.name}/>\r\n                    <input ref={password} type=\"password\" placeholder=\"비밀번호\" name=\"password\" onChange={(e)=>onChange(e)} value={input.password}/>\r\n                    <div>\r\n                        <button onClick={()=>login()}>로그인</button>\r\n                        <button onClick={()=>signup()}>회원가입</button>\r\n                    </div>\r\n                </S.LDiv>\r\n            </S.LoginBorder>\r\n          </S.Background>\r\n        )\r\n      }\r\n\r\n    return(\r\n        <>\r\n        <S.Header>\r\n            <S.Head onClick={()=>history.push('/')}>\r\n                <div>\r\n                    <img src={logo} alt=\"logo\"></img>\r\n                    <h2>컬러 칩</h2>\r\n                </div>\r\n                {user ?\r\n                    <div>\r\n                        <span className=\"name\">{user} 님</span>\r\n                        <span onClick={()=>logout()}>로그아웃</span>\r\n                    </div>\r\n                    :\r\n                    <span onClick={()=>setOnlogin(true)}>로그인/회원가입</span>\r\n                }\r\n            </S.Head>\r\n        </S.Header>\r\n        {onlogin ?\r\n            <LoginBorder />\r\n            :\r\n            <></>\r\n        }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Header;"]},"metadata":{},"sourceType":"module"}