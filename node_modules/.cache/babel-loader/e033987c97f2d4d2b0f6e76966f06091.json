{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\OneDrive\\\\\\uBB38\\uC11C\\\\GitHub\\\\ColorChip\\\\src\\\\components\\\\MainPage.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport * as S from '../styled/App';\nimport Color from '../contents/Color';\nimport { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MainPage() {\n  _s();\n\n  let history = useHistory();\n  let location = useLocation();\n  const [list, setList] = useState([]);\n  const [rlist, setRlist] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [user, setUser] = useState();\n\n  function getCookie(cName) {\n    cName = cName + '=';\n    var cookieData = document.cookie;\n    var start = cookieData.indexOf(cName);\n    var cValue = '';\n\n    if (start !== -1) {\n      start += cName.length;\n      var end = cookieData.indexOf(';', start);\n      if (end === -1) end = cookieData.length;\n      cValue = cookieData.substring(start, end);\n    }\n\n    return unescape(cValue);\n  }\n\n  useEffect(() => {\n    function getAPI() {\n      axios.get('http://color-chip.herokuapp.com/pallete').then(res => {\n        setRlist([...res.data]);\n        setList([...res.data]);\n        /*const exlist = rlist.map(e => {\r\n          e.color = JSON.parse(e.color);\r\n          return e;\r\n        })\r\n        setRlist(exlist);\r\n        console.log(exlist)*/\n      });\n\n      if (getCookie('c-token')) {\n        axios.get('http://color-chip.herokuapp.com/user').then(res => setUser(res.data));\n      }\n    }\n\n    getAPI();\n  }, []);\n  useEffect(() => {\n    function Search() {\n      if (location.pathname === \"/\") {\n        setRlist(list.filter(i => i.name.includes(search)));\n      } else if (location.pathname === \"/like\") {\n        setRlist(list.filter(i => i.name.includes(search) && JSON.parse(localStorage.getItem('star').includes(i.name))));\n      }\n    }\n\n    Search();\n  }, [search, location.pathname, list]);\n\n  const goUpload = () => {\n    if (user) {\n      history.push('/upload');\n    } else {\n      alert(\"로그인을 해주세요\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(S.Body, {\n      children: [/*#__PURE__*/_jsxDEV(S.H, {\n        children: [/*#__PURE__*/_jsxDEV(S.SearchBox, {\n          children: [/*#__PURE__*/_jsxDEV(S.Search, {\n            placeholder: \"\\uAC80\\uC0C9\\uC5B4\",\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-search\",\n            style: {\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => goUpload(),\n          children: \"\\uCD94\\uAC00\\uD558\\uAE30 +\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), location.pathname === '/like' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => history.push('/'),\n          children: \"\\uC804\\uCCB4 \\uBAA9\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => history.push('/like'),\n          children: \"\\uC990\\uACA8\\uCC3E\\uAE30 \\uBAA9\\uB85D \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: rlist.map(item => {\n          return /*#__PURE__*/_jsxDEV(Color, {\n            item: item,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n} //<Color item={item}/>\n\n\n_s(MainPage, \"5KS0dO6Q5rrvoLin6QYyg5qRO9k=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = MainPage;\nexport default MainPage;\n/*\r\nuseEffect(()=>{\r\n  if(svalue === 1){\r\n    setRlist(List.filter(i => localStorage.star.includes(i.name)));\r\n  }\r\n  else if(svalue === 2){\r\n    setRlist(List.filter(i => i.master === user))\r\n  }\r\n  else{\r\n    setRlist([...List]);\r\n  }\r\n},[svalue])*/\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["C:/Users/user/OneDrive/문서/GitHub/ColorChip/src/components/MainPage.js"],"names":["S","Color","useEffect","useState","useHistory","useLocation","axios","MainPage","history","location","list","setList","rlist","setRlist","search","setSearch","user","setUser","getCookie","cName","cookieData","document","cookie","start","indexOf","cValue","length","end","substring","unescape","getAPI","get","then","res","data","Search","pathname","filter","i","name","includes","JSON","parse","localStorage","getItem","goUpload","push","alert","e","target","value","color","map","item"],"mappings":"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","sourcesContent":["import '../App.css';\r\nimport * as S from '../styled/App'\r\nimport Color from '../contents/Color';\r\nimport { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation} from 'react-router-dom'\r\nimport axios from 'axios';\r\n\r\nfunction MainPage() {\r\n\r\n  let history = useHistory();\r\n  let location = useLocation();\r\n\r\n  const [list, setList] = useState([]);\r\n  const [rlist, setRlist] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [user, setUser] = useState();\r\n\r\n  function getCookie(cName) {\r\n    cName = cName + '=';\r\n    var cookieData = document.cookie;\r\n    var start = cookieData.indexOf(cName);\r\n    var cValue = '';\r\n    if(start !== -1){\r\n    start += cName.length;\r\n    var end = cookieData.indexOf(';', start);\r\n    if(end === -1)end = cookieData.length;\r\n    cValue = cookieData.substring(start, end);\r\n    }\r\n    return unescape(cValue);\r\n}\r\n\r\n  useEffect(()=>{\r\n    function getAPI(){\r\n      axios.get('http://color-chip.herokuapp.com/pallete')\r\n        .then(res=>{\r\n          setRlist([...res.data]);\r\n          setList([...res.data]);\r\n          /*const exlist = rlist.map(e => {\r\n            e.color = JSON.parse(e.color);\r\n            return e;\r\n          })\r\n          setRlist(exlist);\r\n          console.log(exlist)*/\r\n        })\r\n      if(getCookie('c-token')){\r\n        axios.get('http://color-chip.herokuapp.com/user')\r\n          .then(res => setUser(res.data))\r\n      }\r\n    }\r\n    getAPI();\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    function Search() {\r\n      if(location.pathname === \"/\"){\r\n        setRlist(list.filter(i => i.name.includes(search)));\r\n      }\r\n      else if(location.pathname === \"/like\"){\r\n        setRlist(list.filter(i => i.name.includes(search)&&JSON.parse(localStorage.getItem('star').includes(i.name))));\r\n      }\r\n    }\r\n    Search();\r\n  },[search, location.pathname, list])\r\n\r\n  const goUpload = () => {\r\n    if(user){\r\n      history.push('/upload')\r\n    }\r\n    else{\r\n      alert(\"로그인을 해주세요\")\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <S.Body>\r\n        <S.H>\r\n        <S.SearchBox>\r\n        <S.Search placeholder=\"검색어\" onChange={(e)=>setSearch(e.target.value)}/>\r\n        <i class=\"fas fa-search\" style={{color:\"gray\"}}></i>\r\n        </S.SearchBox>\r\n        <button onClick={()=>goUpload()}>추가하기 +</button>\r\n        {location.pathname === '/like'?\r\n          <span onClick={()=>history.push('/')}>전체 목록 보기</span>\r\n          :\r\n          <span onClick={()=>history.push('/like')}>즐겨찾기 목록 보기</span>\r\n        }\r\n        </S.H> \r\n        <>\r\n        {rlist.map(\r\n          item => {\r\n            return(\r\n              <Color item={item} user={user}/>\r\n            )\r\n          }\r\n        )}\r\n        </>\r\n      </S.Body>\r\n    </>\r\n  );\r\n}\r\n\r\n//<Color item={item}/>\r\n\r\nexport default MainPage;\r\n\r\n  /*\r\n  useEffect(()=>{\r\n    if(svalue === 1){\r\n      setRlist(List.filter(i => localStorage.star.includes(i.name)));\r\n    }\r\n    else if(svalue === 2){\r\n      setRlist(List.filter(i => i.master === user))\r\n    }\r\n    else{\r\n      setRlist([...List]);\r\n    }\r\n  },[svalue])*/"]},"metadata":{},"sourceType":"module"}